<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login - Poder Judicial</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(to bottom right, #f0f0f0, #dcdcdc);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: "Segoe UI", sans-serif;
        padding: 15px;
      }

      .login-card {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 400px;
        text-align: center;
      }

      .login-card img {
        width: 240px;
        margin-bottom: 10px;
      }

      .login-card h5 {
        margin-bottom: 20px;
        color: #7c1c2c;
        font-weight: bold;
      }

      .btn-primary {
        background-color: #7c1c2c;
        border-color: #7c1c2c;
        font-weight: 600;
        border-radius: 8px;
      }

      .btn-primary:hover {
        background-color: #6a1827;
        border-color: #6a1827;
      }

      .footer-text {
        margin-top: 20px;
        font-size: 0.9em;
        color: #666;
      }

      .error-alert {
        display: none;
        background-color: #f8d7da;
        color: #842029;
        padding: 10px;
        border-radius: 8px;
        margin-bottom: 15px;
        font-size: 0.9em;
      }

      @media (max-width: 576px) {
        .login-card {
          padding: 20px;
        }

        .login-card img {
          width: 180px;
        }

        .login-card h5 {
          font-size: 1.2rem;
        }
      }
    </style>
  </head>

  <body>
    <div class="login-card">
      <img src="/img/Poder_Judicial_logo.png" alt="Logo Poder Judicial" />
      <h5>Acceso al sistema</h5>

      <div id="errorAlert" class="error-alert">
        Correo o contraseña incorrectos
      </div>

      <form action="/login/login.php" method="POST">
        <div class="mb-3 text-start">
          <label for="email" class="form-label">Correo electrónico</label>
          <input type="email" class="form-control" name="email" required />
        </div>
        <div class="mb-3 text-start">
          <label for="password" class="form-label">Contraseña</label>
          <input
            type="password"
            class="form-control"
            name="password"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary w-100">Ingresar</button>
      </form>

      <div class="footer-text">Poder Judicial La Pampa</div>
    </div>

    <script>
      const params = new URLSearchParams(window.location.search);
      const err = params.get("error");
      if (err) {
        const el = document.getElementById("errorAlert");
        el.style.display = "block";
        el.textContent =
          err === "cred"
            ? "Correo o contraseña incorrectos"
            : err === "db"
            ? "Error de conexión con la base de datos. Intente nuevamente."
            : err === "campos"
            ? "Completá correo y contraseña"
            : "Ocurrió un error. Intente nuevamente.";
        setTimeout(() => {
          el.style.display = "none";
        }, 4000);
      }
    </script>
  </body>
</html>
